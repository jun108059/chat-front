(this["webpackJsonpchat-front"]=this["webpackJsonpchat-front"]||[]).push([[0],{101:function(e,n,t){},201:function(e,n,t){},219:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(84),s=t.n(o),c=(t(101),t(25)),l=t(85),u=t.n(l),i=(t(201),t(249)),m=t(248),g=function(e){var n=e.onSendMessage,t=Object(a.useState)(""),o=Object(c.a)(t,2),s=o[0],l=o[1],u=function(){l(""),n(s)};return r.a.createElement("div",{className:"message-input"},r.a.createElement(m.a,{className:"inputField",label:"Type your message here...",placeholder:"Enter your message and press ENTER",onChange:function(e){return function(e){l(e.target.value)}(e)},margin:"normal",value:s,onKeyPress:function(e){"Enter"===e.key&&u()},style:{height:"30px",width:"80%"}}),r.a.createElement(i.a,{variant:"contained",color:"primary",onClick:u},"Send"))},d=function(e){var n=e.onSubmit,t=Object(a.useState)(""),o=Object(c.a)(t,2),s=o[0],l=o[1],u=function(){n(s)};return r.a.createElement("div",null,r.a.createElement(m.a,{label:"Type your username",placeholder:"Username",onChange:function(e){return l(e.target.value)},margin:"normal",onKeyPress:function(e){"Enter"===e.key&&u()}}),r.a.createElement("br",null),r.a.createElement(i.a,{variant:"contained",color:"primary",onClick:u},"Login"))},f=function(e){var n=e.messages,t=e.currentUser;return r.a.createElement("ul",{className:"messages-list"},n.map((function(e){return function(e){var n=e.sender,a=e.content,o=e.color,s=t.username===e.sender?"Messages-message currentUser":"Messages-message";return r.a.createElement("li",{className:s},r.a.createElement("span",{className:"avatar",style:{backgroundColor:o}}),r.a.createElement("div",{className:"Message-content"},r.a.createElement("div",{className:"username"},n),r.a.createElement("div",{className:"text"},a)))}(e)})))},E=t(87),p=t.n(E).a.create({baseURL:"/api/"}),h={getMessages:function(e){return console.log("Calling get messages from API"),p.get("messages/".concat(e))},sendMessage:function(e,n){var t={roomId:"4",sender:e,content:n};return p.post("send",t)}};var v=function(){var e=Object(a.useState)([]),n=Object(c.a)(e,2),t=n[0],o=n[1],s=Object(a.useState)(null),l=Object(c.a)(s,2),i=l[0],m=l[1];return r.a.createElement("div",{className:"App"},i?r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,{url:"http://localhost:8082/ws-chat/",topics:["/topic/group"],onConnect:function(){console.log("Connected!!")},onDisconnect:console.log("Disconnected!"),onMessage:function(e){return function(e){console.log("New Message Received!!",e),o(t.concat(e))}(e)},debug:!1}),r.a.createElement(f,{messages:t,currentUser:i}),r.a.createElement(g,{onSendMessage:function(e){h.sendMessage(i.username,e).then((function(e){console.log("Sent",e)})).catch((function(){console.log("Error Occurred while sending message to api")}))}})):r.a.createElement(d,{onSubmit:function(e){console.log(e," Logged in.."),m({username:e,color:"#"+Math.floor(16777215*Math.random()).toString(16)})}}))},b=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,251)).then((function(n){var t=n.getCLS,a=n.getFID,r=n.getFCP,o=n.getLCP,s=n.getTTFB;t(e),a(e),r(e),o(e),s(e)}))};s.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(v,null))),b()},94:function(e,n,t){e.exports=t(219)}},[[94,1,2]]]);
//# sourceMappingURL=main.b0d293a8.chunk.js.map